option_settings:
  aws:elasticbeanstalk:environment:
    EnvironmentType: LoadBalanced
  aws:elasticbeanstalk:application:
    Application Healthcheck URL: /health
  aws:elasticbeanstalk:healthreporting:system:
    SystemType: enhanced
  aws:elasticbeanstalk:command:
    # [핵심] 앱이 시작될 때까지 120초 동안 상태 확인 실패를 무시합니다.
    HealthCheckGracePeriod: 120
  aws:elbv2:listener:default:
    HealthCheckPath: /health
  aws:elbv2:loadbalancer:
    # 상태 확인 간격을 30초, 타임아웃을 15초로 좀 더 넉넉하게 설정합니다.
    HealthCheckInterval: 30
    HealthCheckTimeout: 15
    HealthyThresholdCount: 2
    UnhealthyThresholdCount: 3